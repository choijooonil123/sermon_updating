<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>설교 낭독 텍스트 변환</title>
  <style>
    body { font-family: Arial; margin: 40px; background: #f0f8ff; }
    button { margin: 5px; padding: 10px; font-size: 1em; }
    #liveTranscript {
      margin-top: 20px;
      background: #ffffff;
      border: 1px solid #ccc;
      padding: 20px;
      min-height: 200px;
      line-height: 1.8;
      font-size: 1.2em;
      white-space: pre-wrap;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

<h1>🎙️ 설교 직접 낭독 → 텍스트 변환</h1>

<button onclick="startSTT()">🎙️ 낭독 시작</button>
<button onclick="stopSTT()">⏹️ 종료</button>

<div id="liveTranscript">(여기에 낭독한 설교가 텍스트로 표시됩니다)</div>

<script>
  let recognition;
  function startSTT() {
    recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "ko-KR";
    recognition.continuous = true;
    recognition.interimResults = true;
    recognition.onresult = event => {
      let result = "";
      for (let i = event.resultIndex; i < event.results.length; ++i) {
        result += event.results[i][0].transcript;
        if (event.results[i].isFinal) result += "\n";
      }
      document.getElementById("liveTranscript").textContent = result;
    };
    recognition.start();
  }

  function stopSTT() {
    if (recognition) recognition.stop();
  }
</script>

</body>
</html>
